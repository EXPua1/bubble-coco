{"version":3,"file":"commonHelpers.js","sources":["../src/js/home.js","../src/js/userReviews.js"],"sourcesContent":["const refs = {\n  btn: document.querySelector('.btn_js'),\n  closeBtn: document.querySelector('.mob_btn_js'), // исправленный селектор\n  burgerBtn: document.querySelector('.burger_js'),\n  mobMenu: document.querySelector('.mob_menu'),\n  body: document.querySelector('body'), // добавляем body в селектор\n  links: document.querySelectorAll('.mob_link'),\n};\n\nrefs.btn.addEventListener('click', goAppStore);\nrefs.burgerBtn.addEventListener('click', openMob);\nrefs.closeBtn.addEventListener('click', closeMob);\n\nrefs.links.forEach(link => {\n  link.addEventListener('click', handleLinkClick);\n});\n\nfunction handleLinkClick() {\n  closeMob(); // Закрываем мобильное меню\n  this.removeEventListener('click', handleLinkClick); // Убираем обработчик клика для этой ссылки\n}\n\nfunction goAppStore() {\n  window.open(\n    'https://play.google.com/store/apps/details?id=com.cookapps.bubblecoco',\n    '_blank'\n  );\n}\nwindow.addEventListener('resize', closeOnResize);\nfunction openMob() {\n  window.addEventListener('keydown', closeOnEscape);\n  refs.mobMenu.classList.add('active');\n  refs.body.classList.add('no-scroll');\n}\n\nfunction closeMob() {\n  window.removeEventListener('keydown', closeOnEscape);\n  refs.mobMenu.classList.remove('active');\n  refs.body.classList.remove('no-scroll');\n}\nfunction closeOnResize() {\n  if (window.innerWidth > 375) {\n    closeMob(); // Закрыть меню\n  }\n}\nfunction closeOnEscape(event) {\n  if (event.key === 'Escape') {\n    closeMob(); // Закрыть меню\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const navLinks = document.querySelectorAll('.mob_link, .nav-list_item a'); // Ссылки из модального окна и хедера\n\n  // Объекты для хранения отступов для каждой секции\n  const mobileOffsets = {\n    home: 0,\n    features: 150,\n    about: 350,\n    gallery: 150,\n    reviews: 100,\n  };\n\n  const desktopOffsets = {\n    home: 70,\n    features: 300,\n    about: 250,\n    gallery: 150,\n    reviews: 150,\n  };\n\n  navLinks.forEach(link => {\n    link.addEventListener('click', event => {\n      event.preventDefault(); // Отключаем стандартное поведение якоря\n      const targetID = link.getAttribute('href').substring(1); // Получаем ID секции (без #)\n      const targetSection = document.getElementById(targetID); // Находим секцию по ID\n\n      if (targetSection) {\n        // Если клик был по мобильной ссылке — закрываем меню\n        if (link.classList.contains('mob_link')) {\n          closeMob();\n        }\n\n        // Определяем, какой объект отступов использовать\n        const offsets =\n          window.innerWidth <= 1200 ? mobileOffsets : desktopOffsets;\n\n        // Получаем отступ для текущей секции\n        const offset = offsets[targetID] || 0;\n\n        const sectionPosition =\n          targetSection.getBoundingClientRect().top + window.scrollY - offset;\n\n        window.scrollTo({\n          top: sectionPosition,\n          behavior: 'smooth',\n        });\n      } else {\n        console.error(`Section with ID \"${targetID}\" not found`);\n      }\n    });\n  });\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  const reviewWrapper = document.querySelector('.reviews_wrapper');\n  const reviewList = document.querySelector('.reviews_list');\n  const leftArrow = document.querySelector('.left_arrow');\n  const rightArrow = document.querySelector('.right_arrow');\n\n  let currentIndex = 0;\n  const totalCards = document.querySelectorAll('.review_card').length;\n  const maxIndex = totalCards - 3;\n\n  function updateArrows() {\n    leftArrow\n      .querySelector('use')\n      .setAttribute(\n        'href',\n        currentIndex === 0\n          ? './img/sprite.svg#icon_left_Off'\n          : './img/sprite.svg#icon_left_On'\n      );\n    rightArrow\n      .querySelector('use')\n      .setAttribute(\n        'href',\n        currentIndex === maxIndex\n          ? './img/sprite.svg#icon_right_Off'\n          : './img/sprite.svg#icon_right_On'\n      );\n  }\n\n  rightArrow.addEventListener('click', function () {\n    if (currentIndex < maxIndex) {\n      currentIndex++;\n      reviewList.style.transform = `translateX(-${currentIndex * 368}px)`;\n      updateArrows();\n    }\n  });\n\n  leftArrow.addEventListener('click', function () {\n    if (currentIndex > 0) {\n      currentIndex--;\n      reviewList.style.transform = `translateX(-${currentIndex * 368}px)`;\n      updateArrows();\n    }\n  });\n\n  updateArrows();\n});\n"],"names":["refs","goAppStore","openMob","closeMob","link","handleLinkClick","closeOnResize","closeOnEscape","event","navLinks","mobileOffsets","desktopOffsets","targetID","targetSection","offset","sectionPosition","reviewList","leftArrow","rightArrow","currentIndex","maxIndex","updateArrows"],"mappings":"oDAAA,MAAMA,EAAO,CACX,IAAK,SAAS,cAAc,SAAS,EACrC,SAAU,SAAS,cAAc,aAAa,EAC9C,UAAW,SAAS,cAAc,YAAY,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,KAAM,SAAS,cAAc,MAAM,EACnC,MAAO,SAAS,iBAAiB,WAAW,CAC9C,EAEAA,EAAK,IAAI,iBAAiB,QAASC,CAAU,EAC7CD,EAAK,UAAU,iBAAiB,QAASE,CAAO,EAChDF,EAAK,SAAS,iBAAiB,QAASG,CAAQ,EAEhDH,EAAK,MAAM,QAAQI,GAAQ,CACzBA,EAAK,iBAAiB,QAASC,CAAe,CAChD,CAAC,EAED,SAASA,GAAkB,CACzBF,IACA,KAAK,oBAAoB,QAASE,CAAe,CACnD,CAEA,SAASJ,GAAa,CACpB,OAAO,KACL,wEACA,QACJ,CACA,CACA,OAAO,iBAAiB,SAAUK,CAAa,EAC/C,SAASJ,GAAU,CACjB,OAAO,iBAAiB,UAAWK,CAAa,EAChDP,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCA,EAAK,KAAK,UAAU,IAAI,WAAW,CACrC,CAEA,SAASG,GAAW,CAClB,OAAO,oBAAoB,UAAWI,CAAa,EACnDP,EAAK,QAAQ,UAAU,OAAO,QAAQ,EACtCA,EAAK,KAAK,UAAU,OAAO,WAAW,CACxC,CACA,SAASM,GAAgB,CACnB,OAAO,WAAa,KACtBH,GAEJ,CACA,SAASI,EAAcC,EAAO,CACxBA,EAAM,MAAQ,UAChBL,GAEJ,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMM,EAAW,SAAS,iBAAiB,6BAA6B,EAGlEC,EAAgB,CACpB,KAAM,EACN,SAAU,IACV,MAAO,IACP,QAAS,IACT,QAAS,GACb,EAEQC,EAAiB,CACrB,KAAM,GACN,SAAU,IACV,MAAO,IACP,QAAS,IACT,QAAS,GACb,EAEEF,EAAS,QAAQL,GAAQ,CACvBA,EAAK,iBAAiB,QAASI,GAAS,CACtCA,EAAM,eAAc,EACpB,MAAMI,EAAWR,EAAK,aAAa,MAAM,EAAE,UAAU,CAAC,EAChDS,EAAgB,SAAS,eAAeD,CAAQ,EAEtD,GAAIC,EAAe,CAEbT,EAAK,UAAU,SAAS,UAAU,GACpCD,IAQF,MAAMW,GAHJ,OAAO,YAAc,KAAOJ,EAAgBC,GAGvBC,CAAQ,GAAK,EAE9BG,EACJF,EAAc,sBAAqB,EAAG,IAAM,OAAO,QAAUC,EAE/D,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QACpB,CAAS,CACT,MACQ,QAAQ,MAAM,oBAAoBH,CAAQ,aAAa,CAE/D,CAAK,CACL,CAAG,CACH,CAAC,ECtGD,SAAS,iBAAiB,mBAAoB,UAAY,CAClC,SAAS,cAAc,kBAAkB,EAC/D,MAAMI,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAExD,IAAIC,EAAe,EAEnB,MAAMC,EADa,SAAS,iBAAiB,cAAc,EAAE,OAC/B,EAE9B,SAASC,GAAe,CACtBJ,EACG,cAAc,KAAK,EACnB,aACC,OACAE,IAAiB,EACb,iCACA,+BACZ,EACID,EACG,cAAc,KAAK,EACnB,aACC,OACAC,IAAiBC,EACb,kCACA,gCACZ,CACG,CAEDF,EAAW,iBAAiB,QAAS,UAAY,CAC3CC,EAAeC,IACjBD,IACAH,EAAW,MAAM,UAAY,eAAeG,EAAe,GAAG,MAC9DE,IAEN,CAAG,EAEDJ,EAAU,iBAAiB,QAAS,UAAY,CAC1CE,EAAe,IACjBA,IACAH,EAAW,MAAM,UAAY,eAAeG,EAAe,GAAG,MAC9DE,IAEN,CAAG,EAEDA,GACF,CAAC"}